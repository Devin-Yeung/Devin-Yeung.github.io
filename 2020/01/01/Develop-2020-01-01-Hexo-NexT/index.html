<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">
  <link rel="mask-icon" href="/images/favicon_safari.jpg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"devin-yeung.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="本文记录了用hexo以及NexT部署博客的过程中遇到的各种问题。">
<meta property="og:type" content="article">
<meta property="og:title" content="使用Hexo搭建个人Blog">
<meta property="og:url" content="https://devin-yeung.github.io/2020/01/01/Develop-2020-01-01-Hexo-NexT/index.html">
<meta property="og:site_name" content="YCG&#39;s Notes">
<meta property="og:description" content="本文记录了用hexo以及NexT部署博客的过程中遇到的各种问题。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==">
<meta property="article:published_time" content="2019-12-31T16:00:00.000Z">
<meta property="article:modified_time" content="2020-04-26T16:00:00.000Z">
<meta property="article:author" content="YCG">
<meta property="article:tag" content="hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==">

<link rel="canonical" href="https://devin-yeung.github.io/2020/01/01/Develop-2020-01-01-Hexo-NexT/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>使用Hexo搭建个人Blog | YCG's Notes</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>


</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">YCG's Notes</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">上帝是一位植物生理学家</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-tools">

    <a href="https://devin-yeung.github.io/online-tools" rel="section"><i class="fa fa-cogs fa-fw"></i>工具</a>

  </li>
        <li class="menu-item menu-item-guide">

    <a href="/repo/guide/" rel="section"><i class="fa fa-compass fa-fw"></i>指南</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://devin-yeung.github.io/2020/01/01/Develop-2020-01-01-Hexo-NexT/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="YCG">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YCG's Notes">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          使用Hexo搭建个人Blog
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2020-01-01T00:00:00+08:00">2020-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-04-27 00:00:00" itemprop="dateModified" datetime="2020-04-27T00:00:00+08:00">2020-04-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/hexo/" itemprop="url" rel="index"><span itemprop="name">hexo</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>19k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>17 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>本文记录了用hexo以及NexT部署博客的过程中遇到的各种问题。<br><a id="more"></a></p>
<h1 id="基本建站配置"><a href="#基本建站配置" class="headerlink" title="基本建站配置"></a>基本建站配置</h1><h1 id="样式配置"><a href="#样式配置" class="headerlink" title="样式配置"></a>样式配置</h1><h2 id="在-Hexo-中支持-Mathjax"><a href="#在-Hexo-中支持-Mathjax" class="headerlink" title="在 Hexo 中支持 Mathjax"></a>在 Hexo 中支持 Mathjax</h2><h3 id="1-使用Kramed代替-Marked"><a href="#1-使用Kramed代替-Marked" class="headerlink" title="1.使用Kramed代替 Marked"></a>1.使用Kramed代替 Marked</h3><p><code>hexo</code> 默认的渲染引擎是 <code>marked</code>，但是 <code>marked</code> 不支持 <code>mathjax</code>。 <code>kramed</code> 是在 <code>marked</code> 的基础上进行修改。我们在工程目录下执行以下命令来安装 <code>kramed</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-renderer-marked --save</span><br><span class="line">npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure>
<p>然后，更改<code>&lt;your-project-dir&gt;/node_modules/hexo-renderer-kramed/lib/renderer.js</code>，更改：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Change inline math rule</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">formatText</span>(<span class="params">text</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Fit kramed's rule: $$ + \1 + $$</span></span><br><span class="line">    <span class="keyword">return</span> text.replace(<span class="regexp">/`\$(.*?)\$`/g</span>, <span class="string">'$$$$$1$$$$'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>为:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Change inline math rule</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">formatText</span>(<span class="params">text</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> text;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-停止使用-hexo-math"><a href="#2-停止使用-hexo-math" class="headerlink" title="2.停止使用 hexo-math"></a>2.停止使用 hexo-math</h3><p>首先，如果你已经安装 <code>hexo-math</code>, 请卸载它：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-math --save</span><br></pre></td></tr></table></figure>
<p>然后安装 <a href="https://github.com/phoenixcw/hexo-renderer-mathjax" target="_blank" rel="noopener">hexo-renderer-mathjax</a> 包：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-mathjax --save</span><br></pre></td></tr></table></figure>
<h3 id="3-更新-Mathjax-的-CDN-链接（可选）"><a href="#3-更新-Mathjax-的-CDN-链接（可选）" class="headerlink" title="3.更新 Mathjax 的 CDN 链接（可选）"></a>3.更新 Mathjax 的 CDN 链接（可选）</h3><p>首先，打开<code>&lt;path-to-your-project&gt;/node_modules/hexo-renderer-mathjax/mathjax.html</code></p>
<p>然后，把<code>&lt;script&gt;</code>更改为：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="4-更改默认转义规则"><a href="#4-更改默认转义规则" class="headerlink" title="4.更改默认转义规则"></a>4.更改默认转义规则</h3><p>因为 <code>hexo</code> 默认的转义规则会将一些字符进行转义，比如 <code>_</code> 转为 <code>&lt;em&gt;</code>, 所以我们需要对默认的规则进行修改.<br> 首先， 打开<code>&lt;path-to-your-project&gt;/node_modules/kramed/lib/rules/inline.js</code>,</p>
<p>然后，把:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">escape</span>: <span class="regexp">/^\\([\\`*&#123;&#125;\[\]()#$+\-.!_&gt;])/</span>,</span><br></pre></td></tr></table></figure>
<p>更改为:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">escape</span>: <span class="regexp">/^\\([`*\[\]()# +\-.!_&gt;])/</span>,</span><br></pre></td></tr></table></figure>
<p>把:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">em: <span class="regexp">/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/</span>,</span><br></pre></td></tr></table></figure>
<p>更改为:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">em: <span class="regexp">/^\*((?:\*\*|[\s\S])+?)\*(?!\*)/</span>,</span><br></pre></td></tr></table></figure>
<h3 id="5-开启Mathjax"><a href="#5-开启Mathjax" class="headerlink" title="5.开启Mathjax"></a>5.开启Mathjax</h3><p>在主题 <code>_config.yml</code> 中开启 <code>Mathjax</code>， 找到 <code>mathjax</code> 字段添加如下代码：</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mathjax:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>这一步可选，在博客中开启 <code>Mathjax</code>，， 添加以下内容：</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Testing Mathjax with Hexo</span><br><span class="line">category: Uncategorized</span><br><span class="line">date: 2017/05/03</span><br><span class="line">mathjax: true</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>通过以上步骤，我们就可以在 <code>hexo</code> 中使用 <code>Mathjax</code> 来书写数学公式。</p>
<p>Reference: <a href="https://www.jianshu.com/p/e8d433a2c5b7" target="_blank" rel="noopener">如何在 hexo 中支持 Mathjax？</a></p>
<h2 id="在Hexo-NexT中支持Mermaid"><a href="#在Hexo-NexT中支持Mermaid" class="headerlink" title="在Hexo-NexT中支持Mermaid"></a>在Hexo-NexT中支持Mermaid</h2><h3 id="1-安装插件"><a href="#1-安装插件" class="headerlink" title="1.安装插件"></a>1.安装插件</h3><p>在站点目录下执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-filter-mermaid-diagrams --save</span><br></pre></td></tr></table></figure></p>
<h3 id="2-配置插件"><a href="#2-配置插件" class="headerlink" title="2.配置插件"></a>2.配置插件</h3><p>在<strong>主题配置文件</strong><code>_config.yml</code>中进行设置<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Mermaid tag</span></span><br><span class="line"><span class="attr">mermaid:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Available themes: default | dark | forest | neutral</span></span><br><span class="line">  <span class="attr">theme:</span> <span class="string">forest</span></span><br></pre></td></tr></table></figure><br>在本地部署，预览效果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo s --debug</span><br></pre></td></tr></table></figure><br>Reference:<br><a href="https://blog.csdn.net/wzh0709zml/article/details/103310405" target="_blank" rel="noopener">hexo优化：Markdown语法引入Flowchart和Mermaid流程图</a><br><a href="https://mermaid-js.github.io/mermaid/#/README" target="_blank" rel="noopener">Mermaid#README</a></p>
<h2 id="在Hexo折叠-显示-隐藏-部分文字"><a href="#在Hexo折叠-显示-隐藏-部分文字" class="headerlink" title="在Hexo折叠(显示/隐藏)部分文字"></a>在Hexo折叠(显示/隐藏)部分文字</h2><h3 id="1-安装插件-1"><a href="#1-安装插件-1" class="headerlink" title="1.安装插件"></a>1.安装插件</h3><p>安装<code>hexo-sliding-spoiler</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-sliding-spoiler --save</span><br></pre></td></tr></table></figure>
<h3 id="2-使用方式"><a href="#2-使用方式" class="headerlink" title="2.使用方式"></a>2.使用方式</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% spoiler "隐藏内容的标题" %&#125;</span><br><span class="line">正文</span><br><span class="line"><span class="comment">&lt;!--支持MathJax/代码块--&gt;</span></span><br><span class="line">&#123;% endspoiler %&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-自定义"><a href="#3-自定义" class="headerlink" title="3.自定义"></a>3.自定义</h3><p>默认是 <code>Show: .../ Hide: ...</code>，我们可以更改前面的字。</p>
<p>打开文件 <code>hexo\node_modules\hexo-sliding-spoiler\assetsspoiler.css</code>，找到25-31行，修改其中的 <code>content</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.spoiler</span><span class="selector-class">.collapsed</span> <span class="selector-class">.spoiler-title</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">"Show: "</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.spoiler</span><span class="selector-class">.expanded</span> <span class="selector-class">.spoiler-title</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">"Hide: "</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>为：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.spoiler</span><span class="selector-class">.collapsed</span> <span class="selector-class">.spoiler-title</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">"点击查看："</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.spoiler</span><span class="selector-class">.expanded</span> <span class="selector-class">.spoiler-title</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">"点击隐藏："</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Reference: <a href="https://www.faker.top/2020/02/14/Hexo/h6-%E6%8A%98%E5%8F%A0%E6%96%87%E5%AD%97/" target="_blank" rel="noopener">Hexo博客如何折叠(显示/隐藏)部分文字</a></p>
<h2 id="Hexo-NexT主题添加动态背景"><a href="#Hexo-NexT主题添加动态背景" class="headerlink" title="Hexo-NexT主题添加动态背景"></a>Hexo-NexT主题添加动态背景</h2><h3 id="1-NexT文件目录"><a href="#1-NexT文件目录" class="headerlink" title="1.NexT文件目录"></a>1.NexT文件目录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cd themes&#x2F;next</span><br></pre></td></tr></table></figure>
<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="Click and drag to move"></p>
<h3 id="2-下载canvas-nest"><a href="#2-下载canvas-nest" class="headerlink" title="2.下载canvas-nest"></a>2.下载canvas-nest</h3><p>我们把<code>canvas-nest</code>下载到<code>NexT</code>主题目录下的<code>source/lib目录里</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone https:&#x2F;&#x2F;github.com&#x2F;theme-next&#x2F;theme-next-canvas-nest source&#x2F;lib&#x2F;canvas-nest</span><br></pre></td></tr></table></figure>
<h3 id="3-配置参数"><a href="#3-配置参数" class="headerlink" title="3.配置参数"></a>3.配置参数</h3><p>在<code>NexT</code><strong>配置文件</strong><code>_config.yml</code>中配置开启<code>canvas_nest</code></p>
<p>在配置文件中找到canvas_nest，将enable设置成true，还可以自定义颜色、透明度、数量等。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">onmobile:</span> <span class="literal">true</span> <span class="comment"># display on mobile or not</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">'0,0,255'</span> <span class="comment"># RGB values, use ',' to separate</span></span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">0.5</span> <span class="comment"># the opacity of line: 0~1</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span> <span class="comment"># z-index property of the background</span></span><br><span class="line">  <span class="attr">count:</span> <span class="number">99</span> <span class="comment"># the number of lines</span></span><br></pre></td></tr></table></figure>
<p>Reference: <a href="https://www.himmy.cn/2019/07/07/hexo%E5%8D%9A%E5%AE%A2next%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0theme-next-canvas-nest%E5%87%A0%E4%BD%95%E5%8A%A8%E6%95%88/" target="_blank" rel="noopener">Hexo博客NexT主题添加theme-next-canvas-nest几何动效</a></p>
<h2 id="hexo-next-添加代码块复制功能"><a href="#hexo-next-添加代码块复制功能" class="headerlink" title="hexo-next 添加代码块复制功能"></a>hexo-next 添加代码块复制功能</h2><h3 id="1-下载-clipboard-js"><a href="#1-下载-clipboard-js" class="headerlink" title="1.下载 clipboard.js"></a>1.下载 clipboard.js</h3><p>下载第三方插件：<a href="https://github.com/zenorocha/clipboard.js" target="_blank" rel="noopener">clipboard.js</a>保存文件到 <code>theme/next/source/js</code> 下</p>
<h3 id="2-clipboardjs-的使用"><a href="#2-clipboardjs-的使用" class="headerlink" title="2.clipboardjs 的使用"></a>2.<code>clipboardjs</code> 的使用</h3><p>也是在 <code>theme/next/source/js</code> 目录下，创建 <code>clipboard-use.js</code>，添加内容如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*页面载入完成后，创建复制按钮*/</span></span><br><span class="line">!<span class="function"><span class="keyword">function</span> (<span class="params">e, t, a</span>) </span>&#123; </span><br><span class="line">  <span class="comment">/* code */</span></span><br><span class="line">  <span class="keyword">var</span> initCopyCode = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> copyHtml = <span class="string">''</span>;</span><br><span class="line">    copyHtml += <span class="string">'&lt;button class="btn-copy" data-clipboard-snippet=""&gt;'</span>;</span><br><span class="line">    copyHtml += <span class="string">'&lt;span&gt;复制&lt;/span&gt;'</span>;</span><br><span class="line">    copyHtml += <span class="string">'&lt;/button&gt;'</span>;</span><br><span class="line">    $(<span class="string">".highlight .code pre"</span>).before(copyHtml);</span><br><span class="line">    <span class="keyword">new</span> ClipboardJS(<span class="string">'.btn-copy'</span>, &#123;</span><br><span class="line">        target: <span class="function"><span class="keyword">function</span>(<span class="params">trigger</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> trigger.nextElementSibling;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  initCopyCode();</span><br><span class="line">&#125;(<span class="built_in">window</span>, <span class="built_in">document</span>);</span><br></pre></td></tr></table></figure>
<p>若NexT版本为5.x，在 <code>theme/next/source/css/_custom/custom.styl</code> 样式中添加如下代码:</p>
<p>若NexT版本为7.x，在<code>[your blog file]/source/_data/styles.styl</code>样式中添加如下代码:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">//代码块复制按钮</span><br><span class="line"><span class="selector-class">.highlight</span>&#123;</span><br><span class="line">  //方便copy代码按钮（btn-copy）的定位</span><br><span class="line">  <span class="selector-tag">position</span>: <span class="selector-tag">relative</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn-copy</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#eee</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(#fcfcfc,#eee);</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d5d5d5</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">-webkit-user-select</span>: none;</span><br><span class="line">    <span class="attribute">-moz-user-select</span>: none;</span><br><span class="line">    <span class="attribute">-ms-user-select</span>: none;</span><br><span class="line">    <span class="attribute">user-select</span>: none;</span><br><span class="line">    <span class="attribute">-webkit-appearance</span>: none;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">-o-transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn-copy</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.highlight</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.btn-copy</span>&#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>若NexT版本为7.x，在<strong>主题</strong>配置文件<code>_config.yml</code>中修改代码，确保自定义样式的引用，注意这里的<code>_data/styles.styl</code>的创建位置，是<strong>Hexo站点</strong>的<code>source</code>文件夹，不是themes的<code>source</code>文件夹，如果创建在错误的位置，会导致站点主题样式失效！</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">custom_file_path:</span></span><br><span class="line">  <span class="comment">#head: source/_data/head.swig</span></span><br><span class="line">  <span class="comment">#header: source/_data/header.swig</span></span><br><span class="line">  <span class="comment">#sidebar: source/_data/sidebar.swig</span></span><br><span class="line">  <span class="comment">#postMeta: source/_data/post-meta.swig</span></span><br><span class="line">  <span class="comment">#postBodyEnd: source/_data/post-body-end.swig</span></span><br><span class="line">  <span class="comment">#footer: source/_data/footer.swig</span></span><br><span class="line">  <span class="comment">#bodyEnd: source/_data/body-end.swig</span></span><br><span class="line">  <span class="comment">#variable: source/_data/variables.styl</span></span><br><span class="line">  <span class="comment">#mixin: source/_data/mixins.styl</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">source/_data/styles.styl</span></span><br></pre></td></tr></table></figure>
<h3 id="3-引用样式"><a href="#3-引用样式" class="headerlink" title="3.引用样式"></a>3.引用样式</h3><p>在 <code>themes/next/layout/_layout.swig</code> 文件中引用（<code>/body</code>）之前添加：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 代码块复制功能 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/clipboard.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/clipboard-use.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>部署的时候在控制台发现依旧报错了</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Uncaught <span class="built_in">ReferenceError</span>: $ is not defined?</span><br></pre></td></tr></table></figure>
<p>经过查询，发现问题出现在jQuery的引用问题上，遂修改代码，外部引入jQuery</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 代码块复制功能 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://code.jquery.com/jquery-2.1.1.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/clipboard.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/clipboard-use.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>部署，发现问题解决！</p>
<p>Reference:</p>
<p><a href="https://www.zhyong.cn/posts/ca02/" target="_blank" rel="noopener">hexo-next 添加代码块复制功能</a></p>
<p><a href="https://blog.csdn.net/meihuasheng/article/details/89481581?depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1&amp;utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1" target="_blank" rel="noopener">出现Uncaught ReferenceError: $ is not defined错误</a></p>
<p><a href="https://blog.csdn.net/chrishly3/article/details/103992492" target="_blank" rel="noopener">next主题添加背景图片(无custom.styl情况)</a></p>
<h2 id="hexo-next下添加字数统计和阅读时长"><a href="#hexo-next下添加字数统计和阅读时长" class="headerlink" title="hexo-next下添加字数统计和阅读时长"></a>hexo-next下添加字数统计和阅读时长</h2><h3 id="1-安装插件-2"><a href="#1-安装插件-2" class="headerlink" title="1.安装插件"></a>1.安装插件</h3><p>安装<code>hexo-symbols-count-time</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-symbols-count-time --save</span><br></pre></td></tr></table></figure>
<p>如果安装完报如下提醒，还需安装<code>eslint</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm WARN babel-eslint@10.0.1 requires a peer of eslint@&gt;&#x3D; 4.12.1 but none is installed. You must install peer dependencies yourself.</span><br></pre></td></tr></table></figure>
<p>安装<code>eslint</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install eslint --save</span><br></pre></td></tr></table></figure>
<h3 id="2-配置插件-1"><a href="#2-配置插件-1" class="headerlink" title="2.配置插件"></a>2.配置插件</h3><p>在站点配置文件添加如下配置</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line">  <span class="attr">symbols:</span> <span class="literal">true</span>                <span class="comment"># 文章字数统计</span></span><br><span class="line">  <span class="attr">time:</span> <span class="literal">true</span>                   <span class="comment"># 文章阅读时长</span></span><br><span class="line">  <span class="attr">total_symbols:</span> <span class="literal">true</span>          <span class="comment"># 站点总字数统计</span></span><br><span class="line">  <span class="attr">total_time:</span> <span class="literal">true</span>             <span class="comment"># 站点总阅读时长</span></span><br><span class="line">  <span class="attr">exclude_codeblock:</span> <span class="literal">false</span>     <span class="comment"># 排除代码字数统计</span></span><br></pre></td></tr></table></figure>
<p>在NexT主题配置文件添加如下配置（NexT主题已支持该插件，有的话无需再添加）</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Post wordcount display settings</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/hexo-symbols-count-time</span></span><br><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line">  <span class="attr">separated_meta:</span> <span class="literal">true</span>     <span class="comment"># 是否另起一行（true的话不和发表时间等同一行）</span></span><br><span class="line">  <span class="attr">item_text_post:</span> <span class="literal">true</span>     <span class="comment"># 首页文章统计数量前是否显示文字描述（本文字数、阅读时长）</span></span><br><span class="line">  <span class="attr">item_text_total:</span> <span class="literal">false</span>   <span class="comment"># 页面底部统计数量前是否显示文字描述（站点总字数、站点阅读时长）</span></span><br><span class="line">  <span class="attr">awl:</span> <span class="number">4</span>                   <span class="comment"># Average Word Length</span></span><br><span class="line">  <span class="attr">wpm:</span> <span class="number">275</span>                 <span class="comment"># Words Per Minute（每分钟阅读词数）</span></span><br><span class="line">  <span class="attr">suffix:</span> <span class="string">mins.</span></span><br></pre></td></tr></table></figure>
<p>Reference: <a href="https://www.himmy.cn/2019/07/06/hexo%E5%8D%9A%E5%AE%A2next%E4%B8%BB%E9%A2%98%E4%B8%8B%E6%B7%BB%E5%8A%A0%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1%E5%92%8C%E9%98%85%E8%AF%BB%E6%97%B6%E9%95%BF/" target="_blank" rel="noopener">Hexo博客NexT主题下添加字数统计和阅读时长</a></p>
<h2 id="Hexo-NexT添加live2d卡通人物"><a href="#Hexo-NexT添加live2d卡通人物" class="headerlink" title="Hexo-NexT添加live2d卡通人物"></a>Hexo-NexT添加live2d卡通人物</h2><h3 id="1-安装hexo-helper-live2d"><a href="#1-安装hexo-helper-live2d" class="headerlink" title="1.安装hexo-helper-live2d"></a>1.安装<code>hexo-helper-live2d</code></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure>
<h3 id="2-安装live2d"><a href="#2-安装live2d" class="headerlink" title="2.安装live2d"></a>2.安装live2d</h3><p>其中替换成想要的，比如我安装的的是live2d-widget-model-hijiki</p>
<p>当然，还有很多的model可供选择，参考</p>
<p><a href="https://github.com/xiazeyu/live2d-widget-models" target="_blank" rel="noopener">xiazeyu/live2d-widget-models</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install &lt;live2d-widget-model&gt;</span><br></pre></td></tr></table></figure>
<p>安装live2d-widget-model-hijiki</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install live2d-widget-model-hijiki</span><br></pre></td></tr></table></figure>
<h3 id="3-配置"><a href="#3-配置" class="headerlink" title="3.配置"></a>3.配置</h3><p>在Hexo站点配置文件<code>_config.yml</code>，或者主题配置文件<code>_config.yml</code>中添加如下配置</p>
<p>至于每个配置项的作用看名字就很清楚，也可以修改值然后部署看下效果</p>
<p>更多详细的说明和配置，详见官网<a href="https://github.com/EYHN/hexo-helper-live2d" target="_blank" rel="noopener">EYHN/hexo-helper-live2d</a></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">live2d:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">scriptFrom:</span> <span class="string">local</span></span><br><span class="line">  <span class="attr">pluginRootPath:</span> <span class="string">live2dw/</span></span><br><span class="line">  <span class="attr">pluginJsPath:</span> <span class="string">lib/</span></span><br><span class="line">  <span class="attr">pluginModelPath:</span> <span class="string">assets/</span></span><br><span class="line">  <span class="attr">tagMode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">log:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">model:</span></span><br><span class="line">    <span class="attr">use:</span> <span class="string">live2d-widget-model-hijiki</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="attr">position:</span> <span class="string">left</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">150</span></span><br><span class="line">    <span class="attr">height:</span> <span class="number">300</span></span><br><span class="line">    <span class="attr">hOffset:</span> <span class="number">180</span> <span class="comment">#水平偏移</span></span><br><span class="line">    <span class="attr">vOffset:</span> <span class="number">-75</span> <span class="comment">#垂直偏移</span></span><br><span class="line">  <span class="attr">mobile:</span></span><br><span class="line">    <span class="attr">show:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">scale:</span> <span class="number">0.5</span></span><br><span class="line">  <span class="attr">react:</span></span><br><span class="line">    <span class="attr">opacity:</span> <span class="number">0.7</span></span><br></pre></td></tr></table></figure>
<p>Reference: <a href="https://www.himmy.cn/2019/07/06/hexo%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0live2d%E5%8D%A1%E9%80%9A%E4%BA%BA%E7%89%A9/" target="_blank" rel="noopener">Hexo博客添加live2d卡通人物</a></p>
<h2 id="修改NexT主题页面布局为圆角"><a href="#修改NexT主题页面布局为圆角" class="headerlink" title="修改NexT主题页面布局为圆角"></a>修改NexT主题页面布局为圆角</h2><h3 id="1-配置文件"><a href="#1-配置文件" class="headerlink" title="1.配置文件"></a>1.配置文件</h3><p>在<code>\themes\next\source\css\_variables\Gemini.styl</code>文件中直接添加：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 修改主题页面布局为圆角</span><br><span class="line">$border-radius-inner     &#x3D; 15px 15px 15px 15px;</span><br><span class="line">$border-radius           &#x3D; 15px;</span><br></pre></td></tr></table></figure></p>
<h3 id="2-存在的问题"><a href="#2-存在的问题" class="headerlink" title="2.存在的问题"></a>2.存在的问题</h3><p>修改圆角后，文章和页面顶部的距离出现问题，故左上和右上不启用圆角即可<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$border-radius-inner     &#x3D; 0 0 15px 15px;</span><br><span class="line">$border-radius           &#x3D; 15px;</span><br></pre></td></tr></table></figure></p>
<p>Reference: <a href="https://wugenqiang.gitee.io/articles/hexo-do-optimization.html" target="_blank" rel="noopener">修改主题页面布局为圆角</a></p>
<h2 id="Hexo中实现点击图片全屏查看"><a href="#Hexo中实现点击图片全屏查看" class="headerlink" title="Hexo中实现点击图片全屏查看"></a>Hexo中实现点击图片全屏查看</h2><h3 id="1-安装插件-3"><a href="#1-安装插件-3" class="headerlink" title="1.安装插件"></a>1.安装插件</h3><p>定位到主题<code>lib</code>目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd next&#x2F;source&#x2F;lib</span><br></pre></td></tr></table></figure><br>下载插件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;theme-next&#x2F;theme-next-fancybox3 fancybox</span><br></pre></td></tr></table></figure></p>
<h3 id="2-更改配置"><a href="#2-更改配置" class="headerlink" title="2.更改配置"></a>2.更改配置</h3><p>更改NexT<strong>主题配置</strong><code>_config.yml</code><br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">fancybox:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><br>本地部署Hexo，查看效果，部署时发现报错<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Uncaught TypeError: Cannot read property &#39;defaults&#39; of undefined</span><br><span class="line">    at Object.wrapImageWithFancyBox (utils.js:35)</span><br><span class="line">    at Object.NexT.boot.refresh (next-boot.js:82)</span><br><span class="line">    at next-boot.js:112</span><br><span class="line">wrapImageWithFancyBox @ utils.js:35</span><br><span class="line">NexT.boot.refresh @ next-boot.js:82</span><br><span class="line">(anonymous) @ next-boot.js:112</span><br></pre></td></tr></table></figure><br><strong>暂无解决方法</strong></p>
<p>Reference: <a href="https://wugenqiang.gitee.io/articles/hexo-do-picture-screen.html" target="_blank" rel="noopener">Hexo文章中图片点击实现全屏查看</a></p>
<h2 id="在Hexo中实现鼠标点击特效"><a href="#在Hexo中实现鼠标点击特效" class="headerlink" title="在Hexo中实现鼠标点击特效"></a>在Hexo中实现鼠标点击特效</h2><h3 id="1-安装插件-4"><a href="#1-安装插件-4" class="headerlink" title="1.安装插件"></a>1.安装插件</h3><p>在<code>/themes/next/source/js/click</code>下添加文件<code>anime.min.js</code>和<code>cursor.js</code><br>源码在<a href="/repo/code/blog-javascript/click/anime.min.js">anime.min.js</a>和<a href="/repo/code/blog-javascript/click/cursor.js">cursor</a>下载</p>
<h3 id="2-更改配置-1"><a href="#2-更改配置-1" class="headerlink" title="2.更改配置"></a>2.更改配置</h3><p>在<code>\themes\next\layout_layout.swig</code>文件末尾添加：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 鼠标点击效果 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-class">.fireworks</span> &#123;</span></span><br><span class="line">position: absolute;</span><br><span class="line">top: 0;</span><br><span class="line">left: 0;</span><br><span class="line">width: 100%;</span><br><span class="line">height: 100%;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">class</span>=<span class="string">"fireworks"</span> <span class="attr">style</span>=<span class="string">"position:fixed;left:0;top:0;z-index:99999999;pointer-events:none;"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/click/anime.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/click/cursor.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">”text/javascript”</span>&gt;</span></span><br><span class="line">fireworks.setCanvasSize();</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><br>Reference:<br><a href="https://wugenqiang.gitee.io/articles/hexo-do-optimization.html" target="_blank" rel="noopener">NexT主题优化-点击出现爱心效果</a><br><a href="https://www.tzrseo.com/tougao/1727.html" target="_blank" rel="noopener">网站鼠标点击炫酷特效分享</a><br><a href="https://www.cnblogs.com/guangzan/p/12567819.html" target="_blank" rel="noopener">清空 github 仓库,而不是删除重新创建.</a><br><a href="https://gitee.com/guangzan/awescnb/blob/master/src/plugins/click/index.js" target="_blank" rel="noopener">gitee-快速构建、安装、切换博客园皮肤.</a></p>
<h2 id="Next主题自带样式-note-标签"><a href="#Next主题自带样式-note-标签" class="headerlink" title="Next主题自带样式 note 标签"></a>Next主题自带样式 note 标签</h2><h3 id="1-参数配置"><a href="#1-参数配置" class="headerlink" title="1.参数配置"></a>1.参数配置</h3><p>在<code>主题配置文件</code>中需要配置下:<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Note tag (bs-callout).</span></span><br><span class="line"><span class="attr">note:</span></span><br><span class="line">  <span class="comment"># 风格</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">flat</span></span><br><span class="line">  <span class="comment"># 是否需要图标</span></span><br><span class="line">  <span class="attr">icons:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 圆角矩形</span></span><br><span class="line">  <span class="attr">border_radius:</span> <span class="number">5</span></span><br><span class="line">  <span class="attr">light_bg_offset:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure></p>
<h3 id="2-使用语法"><a href="#2-使用语法" class="headerlink" title="2.使用语法"></a>2.使用语法</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note default"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>Your Text Here<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<div class="note default"><p>Your Text Here</p></div>


<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note primary"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>Your Text Here<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<div class="note primary"><p>Your Text Here</p></div>


<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note success"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>Your Text Here<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<div class="note success"><p>Your Text Here</p></div>


<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note warning"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>Your Text Here<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<div class="note warning"><p>Your Text Here</p></div>


<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note danger"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>Your Text Here<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<div class="note danger"><p>Your Text Here</p></div>

<p>Reference:<a href="https://wugenqiang.gitee.io/articles/hexo-do-optimization-markdown.html" target="_blank" rel="noopener">Hexo中Markdown语法(GFM)使用</a></p>
<h1 id="其他配置"><a href="#其他配置" class="headerlink" title="其他配置"></a>其他配置</h1><h2 id="自动-amp-手动备份Hexo源文件"><a href="#自动-amp-手动备份Hexo源文件" class="headerlink" title="自动&amp;手动备份Hexo源文件"></a>自动&amp;手动备份Hexo源文件</h2><h3 id="1-在github新建repository"><a href="#1-在github新建repository" class="headerlink" title="1.在github新建repository"></a>1.在github新建repository</h3><p>在Github下创建一个新的<code>repository</code>，取名为<code>BlogSource</code>。(与本地的Hexo源码文件夹同名最好)<br>创建的时候<strong>最好为空</strong>，最好<strong>不要</strong>勾选创建<code>README.md</code>,否则后面会有小问题，不过我会提供解决办法。</p>
<h3 id="2-创建仓库"><a href="#2-创建仓库" class="headerlink" title="2.创建仓库"></a>2.创建仓库</h3><p>进入本地的Blog文件夹，在这个地方使用<code>git Bash here</code>执行以下命令创建仓库:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure>
<h3 id="3-修改-gitignore文件"><a href="#3-修改-gitignore文件" class="headerlink" title="3.修改.gitignore文件"></a>3.修改.gitignore文件</h3><p>如果没有请手动创建一个，在里面加入<code>*.log</code> 和 <code>public/</code> 以及<code>.deploy*/</code>。因为每次执行<code>hexo g</code>命令时，上述目录都会被重写更新。因此忽略这两个目录下的文件更新，加快push速度。<br>注：如果文件中有<code>*.log</code> 和 <code>public/</code> 以及<code>.deploy*/</code>这些的时候，直接进行下一步：</p>
<h3 id="4-提交Hexo源码"><a href="#4-提交Hexo源码" class="headerlink" title="4.提交Hexo源码"></a>4.提交Hexo源码</h3><p>执行以下命令，完成Hexo源码在本地的提交：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m &quot;添加hexo源码文件作为备份&quot;</span><br></pre></td></tr></table></figure>
<h3 id="5-设置远程仓库地址"><a href="#5-设置远程仓库地址" class="headerlink" title="5.设置远程仓库地址"></a>5.设置远程仓库地址</h3><p>复制</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@github.com:Devin-Yeung&#x2F;BlogSource.git</span><br></pre></td></tr></table></figure>
<p>如果出现问题：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fatal: remote origin already exists</span><br></pre></td></tr></table></figure>
<p>解决办法如下：<br>（1）先删除远程 Git 仓库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote rm origin</span><br></pre></td></tr></table></figure>
<p>（2）再添加远程 Git 仓库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@github.com:Devin-Yeung&#x2F;BlogSource.git</span><br></pre></td></tr></table></figure>
<p>发现问题成功解决。</p>
<p>注意：如果在GitHub上创建远程仓库时，勾选了 Initialize this repository with a README这项，导致远程仓库不为空，为了不出现Bug，请先执行第6步(远程仓库合并到本地)，若远程仓库为空，则忽略第6步，直接进行第7步操作！</p>
<h3 id="7-更新远程仓库"><a href="#7-更新远程仓库" class="headerlink" title="7.更新远程仓库"></a>7.更新远程仓库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>
<h3 id="8-自动备份原理"><a href="#8-自动备份原理" class="headerlink" title="8.自动备份原理"></a>8.自动备份原理</h3><p>通过监听Hexo的事件来完成自动执行Git命令进行自动备份，查阅<a href="https://hexo.io/zh-cn/api/events.html" target="_blank" rel="noopener">Hexo文档</a>，找到了Hexo的主要事件，见下表：</p>
<p>：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">事件名</th>
<th style="text-align:center">事件发生时间</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">deployBefore</td>
<td style="text-align:center">在部署完成前发布</td>
</tr>
<tr>
<td style="text-align:center">deployAfter</td>
<td style="text-align:center">在部署成功后发布</td>
</tr>
<tr>
<td style="text-align:center">exit</td>
<td style="text-align:center">在 Hexo 结束前发布</td>
</tr>
<tr>
<td style="text-align:center">generateBefore</td>
<td style="text-align:center">在静态文件生成前发布</td>
</tr>
<tr>
<td style="text-align:center">generateAfter</td>
<td style="text-align:center">在静态文件生成后发布</td>
</tr>
<tr>
<td style="text-align:center">new</td>
<td style="text-align:center">在文章文件建立后发布</td>
</tr>
</tbody>
</table>
</div>
<p>于是我们就可以通过监听Hexo的<code>deployAfter</code>事件，待上传完成之后自动运行Git备份命令，从而达到自动备份的目的。</p>
<h3 id="9-将Hexo目录加入Git仓库"><a href="#9-将Hexo目录加入Git仓库" class="headerlink" title="9.将Hexo目录加入Git仓库"></a>9.将Hexo目录加入Git仓库</h3><p>本脚本需要提前将Hexo加入Git仓库并与Github或者Gitee远程仓库绑定之后，才能正常工作。如果你不知道该怎样进行操作，可以参考前文内容。</p>
<h3 id="10-安装shelljs模块"><a href="#10-安装shelljs模块" class="headerlink" title="10.安装shelljs模块"></a>10.安装<code>shelljs</code>模块</h3><p>要实现这个自动备份功能，需要依赖NodeJs的一个<code>shelljs</code>模块,该模块重新包装了<code>child_process</code>,调用系统命令更加的方便，该模块需要安装后使用。</p>
<p>在命令中键入以下命令，完成<code>shelljs</code>模块的安装：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save shelljs</span><br></pre></td></tr></table></figure>
<h3 id="10-编写自动备份脚本"><a href="#10-编写自动备份脚本" class="headerlink" title="10.编写自动备份脚本"></a>10.编写自动备份脚本</h3><p><code>shelljs</code>模块安装完成后，在<code>Hexo</code>根目录的<code>scripts</code>文件夹下新建一个js文件，文件名随意取(我的文件名为:<code>auto_backup.js</code>)。如果没有<code>scripts</code>目录，请新建一个。</p>
<p>然后在脚本中，写入以下内容：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">'shelljs/global'</span>);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    hexo.on(<span class="string">'deployAfter'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;<span class="comment">//当deploy完成后执行备份</span></span><br><span class="line">        run();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"产生了一个错误啊&lt;(￣3￣)&gt; !，错误详情为："</span> + e.toString());</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">run</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!which(<span class="string">'git'</span>)) &#123;</span><br><span class="line">        echo(<span class="string">'Sorry, this script requires git'</span>);</span><br><span class="line">        exit(<span class="number">1</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        echo(<span class="string">"======================Auto Backup Begin==========================="</span>);</span><br><span class="line">        cd(<span class="string">'C:/Users/devin/Desktop/Workspace/Blog'</span>);    <span class="comment">//此处修改为Hexo根目录路径</span></span><br><span class="line">        <span class="keyword">if</span> (exec(<span class="string">'git add --all'</span>).code !== <span class="number">0</span>) &#123;</span><br><span class="line">            echo(<span class="string">'Error: Git add failed'</span>);</span><br><span class="line">            exit(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (exec(<span class="string">'git commit -am "blog auto backup script\'s commit"'</span>).code !== <span class="number">0</span>) &#123;</span><br><span class="line">            echo(<span class="string">'Error: Git commit failed'</span>);</span><br><span class="line">            exit(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (exec(<span class="string">'git push origin master'</span>).code !== <span class="number">0</span>) &#123;</span><br><span class="line">            echo(<span class="string">'Error: Git push failed'</span>);</span><br><span class="line">            exit(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        echo(<span class="string">"==================Auto Backup Complete============================"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意：</p>
<ul>
<li>其中，需要修改第16行的<code>C:/Users/devin/Desktop/Workspace/Blog</code>路径为Hexo的根目录路径。(脚本中的路径为博主的Hexo路径）</li>
<li>如果你的Git远程仓库名称不为origin的话，还需要修改第25行执行的push命令，修改成自己的远程仓库名和相应的分支名。</li>
</ul>
<p>Reference :</p>
<p><a href="https://wugenqiang.gitee.io/articles/manual_backup_blog_source_files.html" target="_blank" rel="noopener">Git命令手动备份Hexo博客源文件</a></p>
<p><a href="https://wugenqiang.gitee.io/articles/auto_backup_blog_source_files.html" target="_blank" rel="noopener">自动备份Hexo博客源文件</a></p>
<h2 id="为Hexo中的Blog加密"><a href="#为Hexo中的Blog加密" class="headerlink" title="为Hexo中的Blog加密"></a>为Hexo中的Blog加密</h2><h3 id="1-安装插件-5"><a href="#1-安装插件-5" class="headerlink" title="1.安装插件"></a>1.安装插件</h3><p>安装插件<code>hexo-blog-encrypt</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-blog-encrypt</span><br></pre></td></tr></table></figure></p>
<h3 id="2-使用配置"><a href="#2-使用配置" class="headerlink" title="2.使用配置"></a>2.使用配置</h3><p>在文章信息头中添加<code>password</code>字段<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Hello</span> <span class="string">World</span></span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">作为日记加密</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2016</span><span class="number">-03</span><span class="number">-30</span> <span class="number">21</span><span class="string">:12:21</span></span><br><span class="line"><span class="attr">password:</span> <span class="string">mikemessi</span></span><br><span class="line"><span class="attr">abstract:</span> <span class="string">有东西被加密了,</span> <span class="string">请输入密码查看.</span></span><br><span class="line"><span class="attr">message:</span> <span class="string">您好,</span> <span class="string">这里需要密码.</span></span><br><span class="line"><span class="attr">wrong_pass_message:</span> <span class="string">抱歉,</span> <span class="string">这个密码看着不太对,</span> <span class="string">请再试试.</span></span><br><span class="line"><span class="attr">wrong_hash_message:</span> <span class="string">抱歉,</span> <span class="string">这个文章不能被校验,</span> <span class="string">不过您还是能看看解密后的内容.</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><br>配置完成后使用<code>hexo clean</code>和<code>hexo g -d</code>本地预览效果<br>另可在<strong>站点配置文件</strong><code>_config.yml</code>中设置，这样不用每次都在文章头设置过多内容<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Security</span></span><br><span class="line"><span class="attr">encrypt:</span> <span class="comment"># hexo-blog-encrypt</span></span><br><span class="line">  <span class="attr">abstract:</span> <span class="string">有东西被加密了,</span> <span class="string">请输入密码查看.</span></span><br><span class="line">  <span class="attr">message:</span> <span class="string">您好,</span> <span class="string">这里需要密码.</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&#123;name:</span> <span class="string">tagName,</span> <span class="attr">password:</span> <span class="string">密码A&#125;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&#123;name:</span> <span class="string">tagName,</span> <span class="attr">password:</span> <span class="string">密码B&#125;</span></span><br><span class="line">  <span class="attr">template:</span> <span class="string">&lt;div</span> <span class="string">id="hexo-blog-encrypt"</span> <span class="string">data-wpm="&#123;&#123;hbeWrongPassMessage&#125;&#125;"</span> <span class="string">data-whm="&#123;&#123;hbeWrongHashMessage&#125;&#125;"&gt;&lt;div</span> <span class="string">class="hbe-input-container"&gt;&lt;input</span> <span class="string">type="password"</span> <span class="string">id="hbePass"</span> <span class="string">placeholder="&#123;&#123;hbeMessage&#125;&#125;"</span> <span class="string">/&gt;&lt;label&gt;&#123;&#123;hbeMessage&#125;&#125;&lt;/label&gt;&lt;div</span> <span class="string">class="bottom-line"&gt;&lt;/div&gt;&lt;/div&gt;&lt;script</span> <span class="string">id="hbeData"</span> <span class="string">type="hbeData"</span> <span class="string">data-hmacdigest="&#123;&#123;hbeHmacDigest&#125;&#125;"&gt;&#123;&#123;hbeEncryptedData&#125;&#125;&lt;/script&gt;&lt;/div&gt;</span></span><br><span class="line">  <span class="attr">wrong_pass_message:</span> <span class="string">抱歉,</span> <span class="string">这个密码看着不太对,</span> <span class="string">请再试试.</span></span><br><span class="line">  <span class="attr">wrong_hash_message:</span> <span class="string">抱歉,</span> <span class="string">这个文章不能被校验,</span> <span class="string">不过您还是能看看解密后的内容.</span></span><br></pre></td></tr></table></figure></p>
<h3 id="3-Callback-函数"><a href="#3-Callback-函数" class="headerlink" title="3.Callback 函数"></a>3.Callback 函数</h3><p>在部分博客中, 解密后部分元素可能无法正常显示或者表现, 目前的解决办法是通过自行查阅自己的博客中的代码, 了解到在 <code>onload</code>事件发生时调用了哪些函数, 并将这些函数挑选后写入到博客内容中. 以<code>MathJax</code>为例，如果不在解密后重新加载<code>MathJax</code>插件，会导致数学公式无法正确显示，解决方法如下:<br>在文章中插入<code>&lt;script&gt;</code>标签引入<code>MathJax</code>，抓包后可以发现，<code>MathJax</code>使用了一段<code>JavaScript</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> MathJax === <span class="string">'undefined'</span>) &#123;</span><br><span class="line">    <span class="built_in">window</span>.MathJax = &#123;</span><br><span class="line">        loader: &#123;</span><br><span class="line">        source: &#123;</span><br><span class="line">            <span class="string">'[tex]/amsCd'</span>: <span class="string">'[tex]/amscd'</span>,</span><br><span class="line">            <span class="string">'[tex]/AMScd'</span>: <span class="string">'[tex]/amscd'</span></span><br><span class="line">        &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        tex: &#123;</span><br><span class="line">        inlineMath: &#123;<span class="string">'[+]'</span>: [[<span class="string">'$'</span>, <span class="string">'$'</span>]]&#125;,</span><br><span class="line">        tags: <span class="string">'ams'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        options: &#123;</span><br><span class="line">        renderActions: &#123;</span><br><span class="line">            findScript: [<span class="number">10</span>, doc =&gt; &#123;</span><br><span class="line">            <span class="built_in">document</span>.querySelectorAll(<span class="string">'script[type^="math/tex"]'</span>).forEach(<span class="function"><span class="params">node</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">const</span> display = !!node.type.match(<span class="regexp">/; *mode=display/</span>);</span><br><span class="line">                <span class="keyword">const</span> math = <span class="keyword">new</span> doc.options.MathItem(node.textContent, doc.inputJax[<span class="number">0</span>], display);</span><br><span class="line">                <span class="keyword">const</span> text = <span class="built_in">document</span>.createTextNode(<span class="string">''</span>);</span><br><span class="line">                node.parentNode.replaceChild(text, node);</span><br><span class="line">                math.start = &#123;<span class="attr">node</span>: text, <span class="attr">delim</span>: <span class="string">''</span>, <span class="attr">n</span>: <span class="number">0</span>&#125;;</span><br><span class="line">                math.end = &#123;<span class="attr">node</span>: text, <span class="attr">delim</span>: <span class="string">''</span>, <span class="attr">n</span>: <span class="number">0</span>&#125;;</span><br><span class="line">                doc.math.push(math);</span><br><span class="line">            &#125;);</span><br><span class="line">            &#125;, <span class="string">''</span>, <span class="literal">false</span>],</span><br><span class="line">            insertedScript: [<span class="number">200</span>, () =&gt; &#123;</span><br><span class="line">            <span class="built_in">document</span>.querySelectorAll(<span class="string">'mjx-container'</span>).forEach(<span class="function"><span class="params">node</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">let</span> target = node.parentNode;</span><br><span class="line">                <span class="keyword">if</span> (target.nodeName.toLowerCase() === <span class="string">'li'</span>) &#123;</span><br><span class="line">                target.parentNode.classList.add(<span class="string">'has-jax'</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            &#125;, <span class="string">''</span>, <span class="literal">false</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">        script.src = <span class="string">'//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'</span>;</span><br><span class="line">        script.defer = <span class="literal">true</span>;</span><br><span class="line">        <span class="built_in">document</span>.head.appendChild(script);</span><br><span class="line">    &#125;)();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    MathJax.startup.document.state(<span class="number">0</span>);</span><br><span class="line">    MathJax.texReset();</span><br><span class="line">    MathJax.typeset();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><br>所以在文章结尾用<code>&lt;script&gt;</code>标签引入即可，因为代码过长，所以将在<code>themes\next-reloaded\source\js</code>目录下创建文件<code>MathJax_render.js</code>，并且在文章中引入<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: MathJax</span><br><span class="line">tags:</span><br><span class="line">mathjax: true</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/MathJax_render.js"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">---</span><br><span class="line">在本地部署，查看效果。</span><br></pre></td></tr></table></figure><br>Reference:<a href="https://github.com/MikeCoder/hexo-blog-encrypt/blob/master/ReadMe.zh.md" target="_blank" rel="noopener">hexo-blog-encrypt</a></p>
<h1 id="Debug"><a href="#Debug" class="headerlink" title="Debug"></a>Debug</h1><h2 id="Hexo引用图片无法显示"><a href="#Hexo引用图片无法显示" class="headerlink" title="Hexo引用图片无法显示"></a>Hexo引用图片无法显示</h2><h3 id="1-安装插件-6"><a href="#1-安装插件-6" class="headerlink" title="1.安装插件"></a>1.安装插件</h3><p>首先我们需要安装一个图片路径转换的插件，这个插件名字是<code>hexo-asset-image</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-asset-image --save</span><br></pre></td></tr></table></figure>
<p>或使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install https:&#x2F;&#x2F;github.com&#x2F;CodeFalling&#x2F;hexo-asset-image --save</span><br></pre></td></tr></table></figure>
<h3 id="2-修改插件"><a href="#2-修改插件" class="headerlink" title="2.修改插件"></a>2.修改插件</h3><p>但是这个插件的内容需要修改【不然可能会出Bug】</p>
<p>打开<code>/node_modules/hexo-asset-image/index.js</code>,将内容更换为下面的代码</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"><span class="keyword">var</span> cheerio = <span class="built_in">require</span>(<span class="string">'cheerio'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// http://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-string</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getPosition</span>(<span class="params">str, m, i</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> str.split(m, i).join(m).length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> version = <span class="built_in">String</span>(hexo.version).split(<span class="string">'.'</span>);</span><br><span class="line">hexo.extend.filter.register(<span class="string">'after_post_render'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> config = hexo.config;</span><br><span class="line">  <span class="keyword">if</span>(config.post_asset_folder)&#123;</span><br><span class="line">    	<span class="keyword">var</span> link = data.permalink;</span><br><span class="line">	<span class="keyword">if</span>(version.length &gt; <span class="number">0</span> &amp;&amp; <span class="built_in">Number</span>(version[<span class="number">0</span>]) == <span class="number">3</span>)</span><br><span class="line">	   <span class="keyword">var</span> beginPos = getPosition(link, <span class="string">'/'</span>, <span class="number">1</span>) + <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	   <span class="keyword">var</span> beginPos = getPosition(link, <span class="string">'/'</span>, <span class="number">3</span>) + <span class="number">1</span>;</span><br><span class="line">	<span class="comment">// In hexo 3.1.1, the permalink of "about" page is like ".../about/index.html".</span></span><br><span class="line">	<span class="keyword">var</span> endPos = link.lastIndexOf(<span class="string">'/'</span>) + <span class="number">1</span>;</span><br><span class="line">    link = link.substring(beginPos, endPos);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> toprocess = [<span class="string">'excerpt'</span>, <span class="string">'more'</span>, <span class="string">'content'</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; toprocess.length; i++)&#123;</span><br><span class="line">      <span class="keyword">var</span> key = toprocess[i];</span><br><span class="line"> </span><br><span class="line">      <span class="keyword">var</span> $ = cheerio.load(data[key], &#123;</span><br><span class="line">        ignoreWhitespace: <span class="literal">false</span>,</span><br><span class="line">        xmlMode: <span class="literal">false</span>,</span><br><span class="line">        lowerCaseTags: <span class="literal">false</span>,</span><br><span class="line">        decodeEntities: <span class="literal">false</span></span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      $(<span class="string">'img'</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> ($(<span class="keyword">this</span>).attr(<span class="string">'src'</span>))&#123;</span><br><span class="line">			<span class="comment">// For windows style path, we replace '\' to '/'.</span></span><br><span class="line">			<span class="keyword">var</span> src = $(<span class="keyword">this</span>).attr(<span class="string">'src'</span>).replace(<span class="string">'\\'</span>, <span class="string">'/'</span>);</span><br><span class="line">			<span class="keyword">if</span>(!<span class="regexp">/http[s]*.*|\/\/.*/</span>.test(src) &amp;&amp;</span><br><span class="line">			   !<span class="regexp">/^\s*\//</span>.test(src)) &#123;</span><br><span class="line">			  <span class="comment">// For "about" page, the first part of "src" can't be removed.</span></span><br><span class="line">			  <span class="comment">// In addition, to support multi-level local directory.</span></span><br><span class="line">			  <span class="keyword">var</span> linkArray = link.split(<span class="string">'/'</span>).filter(<span class="function"><span class="keyword">function</span>(<span class="params">elem</span>)</span>&#123;</span><br><span class="line">				<span class="keyword">return</span> elem != <span class="string">''</span>;</span><br><span class="line">			  &#125;);</span><br><span class="line">			  <span class="keyword">var</span> srcArray = src.split(<span class="string">'/'</span>).filter(<span class="function"><span class="keyword">function</span>(<span class="params">elem</span>)</span>&#123;</span><br><span class="line">				<span class="keyword">return</span> elem != <span class="string">''</span> &amp;&amp; elem != <span class="string">'.'</span>;</span><br><span class="line">			  &#125;);</span><br><span class="line">			  <span class="keyword">if</span>(srcArray.length &gt; <span class="number">1</span>)</span><br><span class="line">				srcArray.shift();</span><br><span class="line">			  src = srcArray.join(<span class="string">'/'</span>);</span><br><span class="line">			  $(<span class="keyword">this</span>).attr(<span class="string">'src'</span>, config.root + link + src);</span><br><span class="line">			  <span class="built_in">console</span>.info&amp;&amp;<span class="built_in">console</span>.info(<span class="string">"update link as:--&gt;"</span>+config.root + link + src);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="built_in">console</span>.info&amp;&amp;<span class="built_in">console</span>.info(<span class="string">"no src attr, skipped..."</span>);</span><br><span class="line">			<span class="built_in">console</span>.info&amp;&amp;<span class="built_in">console</span>.info($(<span class="keyword">this</span>));</span><br><span class="line">		&#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      data[key] = $.html();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="3-修改配置内容"><a href="#3-修改配置内容" class="headerlink" title="3.修改配置内容"></a>3.修改配置内容</h3><p>打开<code>_config.yml</code>文件，修改下述内容</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post_asset_folder: true</span><br></pre></td></tr></table></figure>
<p>Reference: <a href="https://blog.csdn.net/xjm850552586/article/details/84101345" target="_blank" rel="noopener">hexo引用本地图片无法显示</a></p>
<h2 id="NexT主题：侧栏中的archives打开的链接错误"><a href="#NexT主题：侧栏中的archives打开的链接错误" class="headerlink" title="NexT主题：侧栏中的archives打开的链接错误"></a>NexT主题：侧栏中的archives打开的链接错误</h2><h3 id="1-问题定位"><a href="#1-问题定位" class="headerlink" title="1.问题定位"></a>1.问题定位</h3><p>当鼠标移到archives时, 访问的链接是域名<code>/archives/%7C%7C%20archive/</code>, 可见后面的<code>%7C%7C%20</code>多余了, 问题就是删除后面多余字符</p>
<p>解决多余字符：archives的<code>class=&quot;site-state-item site-state-posts&quot;</code></p>
<p>打开博客根目录<code>/themes/next/layout/_macro/sidebar.swig</code>, 搜索<code>class</code>的值, 快速定位错误位置.</p>
<h3 id="2-修改代码"><a href="#2-修改代码" class="headerlink" title="2.修改代码"></a>2.修改代码</h3><p>修改之前的代码为:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if config.archive_dir != '/' and site.posts.length &gt; 0 %&#125;</span><br><span class="line">             <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"site-state-item site-state-posts"</span>&gt;</span></span><br><span class="line">             &#123;% if theme.menu.archives %&#125;</span><br><span class="line">               <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(theme.menu.archives).split('||')[0] | trim &#125;&#125;"</span>&gt;</span></span><br><span class="line">             &#123;% else %&#125;</span><br><span class="line">               <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(config.archive_dir) &#125;&#125;"</span>&gt;</span></span><br><span class="line">             &#123;% endif %&#125;</span><br><span class="line">                 <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"site-state-item-count"</span>&gt;</span>&#123;&#123; site.posts.length &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                 <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"site-state-item-name"</span>&gt;</span>&#123;&#123; __('state.posts') &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>
<p>修改之后:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if config.archive_dir != '/' and site.posts.length &gt; 0 %&#125;</span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"site-state-item site-state-posts"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(config.archive_dir) &#125;&#125;"</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"site-state-item-count"</span>&gt;</span>&#123;&#123; site.posts.length &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"site-state-item-name"</span>&gt;</span>&#123;&#123; __('state.posts') &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>
<p>即:<strong>将中间的判断删掉, 保留下面else的内容即可解决该问题</strong></p>
<p>Reference:<a href="https://blog.csdn.net/qq_36852780/article/details/104680152" target="_blank" rel="noopener">侧栏中的posts打开的链接错误,修改链接 - Hexo建站(五)</a></p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p><a href="https://www.jianshu.com/p/e8d433a2c5b7" target="_blank" rel="noopener">https://www.jianshu.com/p/e8d433a2c5b7</a></p>
<p><a href="https://blog.csdn.net/xjm850552586/article/details/84101345" target="_blank" rel="noopener">https://blog.csdn.net/xjm850552586/article/details/84101345</a></p>
<p><a href="https://www.jianshu.com/p/3a05351a37dc" target="_blank" rel="noopener">https://www.jianshu.com/p/3a05351a37dc</a></p>
<p><a href="https://blog.csdn.net/qq_36759224/article/details/82121420" target="_blank" rel="noopener">https://blog.csdn.net/qq_36759224/article/details/82121420</a></p>
<p><a href="https://blog.csdn.net/qq_36852780/article/details/104680152" target="_blank" rel="noopener">https://blog.csdn.net/qq_36852780/article/details/104680152</a></p>
<h1 id="鸣谢"><a href="#鸣谢" class="headerlink" title="鸣谢"></a>鸣谢</h1><p>在建站过程中遇到了很多问题，参考了很多博主的文章，为表示感谢，故将其主站列至此处</p>
<p><a href="https://wugenqiang.gitee.io/" target="_blank" rel="noopener">WuGenQiang</a></p>
<p><a href="https://veal98.github.io/CS-Wiki/#/" target="_blank" rel="noopener">veal98</a></p>
<p><a href="http://ericam.top/" target="_blank" rel="noopener">Ericam_</a></p>
<p><a href="https://www.oyohyee.com/" target="_blank" rel="noopener">OhYee</a></p>
<p><a href="https://michael728.github.io/" target="_blank" rel="noopener">Michael翔</a></p>
<p><a href="https://hasaik.com/" target="_blank" rel="noopener">John Xu</a></p>
<p><a href="https://www.himmy.cn/" target="_blank" rel="noopener">Himmy</a></p>
<p><a href="https://www.zhyong.cn/" target="_blank" rel="noopener">ZhangYong</a></p>
<p><a href="https://mxdzs0612.github.io/" target="_blank" rel="noopener">mxdzs0612</a></p>
<p><a href="https://www.faker.top/" target="_blank" rel="noopener">ZhangYang</a></p>
<p><a href="https://gwliang.com/" target="_blank" rel="noopener">GaowanLiang</a></p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/hexo/" rel="tag"># hexo</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item"></div>
      <div class="post-nav-item">
    <a href="/2020/04/25/Biology-Biochemistry-2020-04-25-supercoil-of-dna/" rel="next" title="DNA超螺旋相关问题的探究">
      DNA超螺旋相关问题的探究 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#基本建站配置"><span class="nav-text">基本建站配置</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#样式配置"><span class="nav-text">样式配置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#在-Hexo-中支持-Mathjax"><span class="nav-text">在 Hexo 中支持 Mathjax</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-使用Kramed代替-Marked"><span class="nav-text">1.使用Kramed代替 Marked</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-停止使用-hexo-math"><span class="nav-text">2.停止使用 hexo-math</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-更新-Mathjax-的-CDN-链接（可选）"><span class="nav-text">3.更新 Mathjax 的 CDN 链接（可选）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-更改默认转义规则"><span class="nav-text">4.更改默认转义规则</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-开启Mathjax"><span class="nav-text">5.开启Mathjax</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在Hexo-NexT中支持Mermaid"><span class="nav-text">在Hexo-NexT中支持Mermaid</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-安装插件"><span class="nav-text">1.安装插件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-配置插件"><span class="nav-text">2.配置插件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在Hexo折叠-显示-隐藏-部分文字"><span class="nav-text">在Hexo折叠(显示&#x2F;隐藏)部分文字</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-安装插件-1"><span class="nav-text">1.安装插件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-使用方式"><span class="nav-text">2.使用方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-自定义"><span class="nav-text">3.自定义</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Hexo-NexT主题添加动态背景"><span class="nav-text">Hexo-NexT主题添加动态背景</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-NexT文件目录"><span class="nav-text">1.NexT文件目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-下载canvas-nest"><span class="nav-text">2.下载canvas-nest</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-配置参数"><span class="nav-text">3.配置参数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#hexo-next-添加代码块复制功能"><span class="nav-text">hexo-next 添加代码块复制功能</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-下载-clipboard-js"><span class="nav-text">1.下载 clipboard.js</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-clipboardjs-的使用"><span class="nav-text">2.clipboardjs 的使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-引用样式"><span class="nav-text">3.引用样式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#hexo-next下添加字数统计和阅读时长"><span class="nav-text">hexo-next下添加字数统计和阅读时长</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-安装插件-2"><span class="nav-text">1.安装插件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-配置插件-1"><span class="nav-text">2.配置插件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Hexo-NexT添加live2d卡通人物"><span class="nav-text">Hexo-NexT添加live2d卡通人物</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-安装hexo-helper-live2d"><span class="nav-text">1.安装hexo-helper-live2d</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-安装live2d"><span class="nav-text">2.安装live2d</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-配置"><span class="nav-text">3.配置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#修改NexT主题页面布局为圆角"><span class="nav-text">修改NexT主题页面布局为圆角</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-配置文件"><span class="nav-text">1.配置文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-存在的问题"><span class="nav-text">2.存在的问题</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Hexo中实现点击图片全屏查看"><span class="nav-text">Hexo中实现点击图片全屏查看</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-安装插件-3"><span class="nav-text">1.安装插件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-更改配置"><span class="nav-text">2.更改配置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在Hexo中实现鼠标点击特效"><span class="nav-text">在Hexo中实现鼠标点击特效</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-安装插件-4"><span class="nav-text">1.安装插件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-更改配置-1"><span class="nav-text">2.更改配置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Next主题自带样式-note-标签"><span class="nav-text">Next主题自带样式 note 标签</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-参数配置"><span class="nav-text">1.参数配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-使用语法"><span class="nav-text">2.使用语法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#其他配置"><span class="nav-text">其他配置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#自动-amp-手动备份Hexo源文件"><span class="nav-text">自动&amp;手动备份Hexo源文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-在github新建repository"><span class="nav-text">1.在github新建repository</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-创建仓库"><span class="nav-text">2.创建仓库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-修改-gitignore文件"><span class="nav-text">3.修改.gitignore文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-提交Hexo源码"><span class="nav-text">4.提交Hexo源码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-设置远程仓库地址"><span class="nav-text">5.设置远程仓库地址</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-更新远程仓库"><span class="nav-text">7.更新远程仓库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-自动备份原理"><span class="nav-text">8.自动备份原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-将Hexo目录加入Git仓库"><span class="nav-text">9.将Hexo目录加入Git仓库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-安装shelljs模块"><span class="nav-text">10.安装shelljs模块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-编写自动备份脚本"><span class="nav-text">10.编写自动备份脚本</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#为Hexo中的Blog加密"><span class="nav-text">为Hexo中的Blog加密</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-安装插件-5"><span class="nav-text">1.安装插件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-使用配置"><span class="nav-text">2.使用配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-Callback-函数"><span class="nav-text">3.Callback 函数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Debug"><span class="nav-text">Debug</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Hexo引用图片无法显示"><span class="nav-text">Hexo引用图片无法显示</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-安装插件-6"><span class="nav-text">1.安装插件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-修改插件"><span class="nav-text">2.修改插件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-修改配置内容"><span class="nav-text">3.修改配置内容</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#NexT主题：侧栏中的archives打开的链接错误"><span class="nav-text">NexT主题：侧栏中的archives打开的链接错误</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-问题定位"><span class="nav-text">1.问题定位</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-修改代码"><span class="nav-text">2.修改代码</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Reference"><span class="nav-text">Reference</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#鸣谢"><span class="nav-text">鸣谢</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="YCG"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">YCG</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">5</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">YCG</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">23k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">21 分钟</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest-nomobile.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>











<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

  


<!-- 代码块复制功能 -->
<!--
// <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
// <script type="text/javascript" src="/js/clipboard.min.js"></script>
// <script type="text/javascript" src="/js/clipboard-use.js"></script>
-->

<!-- 鼠标点击效果 -->
<style>
.fireworks {
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
}
</style>
<canvas class="fireworks" style="position:fixed;left:0;top:0;z-index:99999999;pointer-events:none;"></canvas>
<script src="/js/click/anime.min.js"></script>
<script src="/js/click/cursor.js"></script>
<script type=”text/javascript”>
fireworks.setCanvasSize();
</script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":150,"height":300,"hOffset":-15},"mobile":{"show":false,"scale":0.5},"react":{"opacity":0.7}});</script></body>
</html>
